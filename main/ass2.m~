%% initialization
clear;
close all;
clc;

%% Read and normalized the input image and rewrite to the new one file 
imgDataPath = '/Users/yuxuan/Desktop/INT301_Assessment2/ass2data/';
imgDataDir  = dir(imgDataPath);             % 遍历所有文件
savepath =  '/Users/yuxuan/Desktop/INT301_Assessment2/ass2_processed_data/'
for i = 1:length(imgDataDir)
    if(isequal(imgDataDir(i).name,'.')||... % 去除系统自带的两个隐文件夹
       isequal(imgDataDir(i).name,'..')||...
       isequal(imgDataDir(i).name,'.DS_Store')||...
       ~imgDataDir(i).isdir)                % 去除遍历中不是文件夹的
           continue;
    end
    imgDir = dir([imgDataPath imgDataDir(i).name '/*.jpeg']);

    
    for j =1:length(imgDir)                 % 遍历所有图片
        img = imread([imgDataPath imgDataDir(i).name '/' imgDir(j).name]);
        img_processed = double(img);
        img_normalized = img_processed/255;
%         imwrite(img_normalized, [savepath,imgDataDir(i).name,num2str(j),'.jpeg'])
    end
end

%% Read the new processed file and output the data and target
imgDataPath_processed = '/Users/yuxuan/Desktop/INT301_Assessment2/ass2_processed_data/';
% [data, target] = getimdata(imgDataPath_processed)

%%
files = dir([imgDataPath_processed '*.jpeg'])


%%
store = cell(1,24)
tst_zero = zeros(1,24)

%%
for i = 1:24
    copy = tst_zero
    tmp = copy(1,
    cell(1,i) = tmp(1,i)
end 

%%
files(2).name(1)

%%

% im = imread('/Users/yuxuan/Desktop/INT301_Assessment2/ass2data/B/20130425T121214_character(4545)_4.jpeg')
% imwrite(im, [savepath,imgDataDir(i).name,num2str(j),'.jpeg'])


